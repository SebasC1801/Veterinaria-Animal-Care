/**
 * DemostraciÃ³n Simple de Patrones de DiseÃ±o en Java
 * Sistema Veterinario - VersiÃ³n Simplificada
 * 
 * Este archivo demuestra todos los patrones implementados sin dependencias externas
 */
public class DemostracionPatrones {
    
    public static void main(String[] args) {
        System.out.println("========================================");
        System.out.println("  DEMOSTRACIÃ“N DE PATRONES DE DISEÃ‘O");
        System.out.println("========================================");
        System.out.println();
        
        // 1. PATRÃ“N SINGLETON
        System.out.println("1. PATRÃ“N SINGLETON - Sistema Central");
        System.out.println("-".repeat(50));
        SistemaVeterinario sistema1 = SistemaVeterinario.getInstance();
        SistemaVeterinario sistema2 = SistemaVeterinario.getInstance();
        System.out.println("âœ“ Sistema 1: " + sistema1);
        System.out.println("âœ“ Sistema 2: " + sistema2);
        System.out.println("âœ“ Â¿Son la misma instancia? " + (sistema1 == sistema2));
        System.out.println("âœ“ Nombre del sistema: " + sistema1.getNombreSistema());
        System.out.println();
        
        // 2. PATRÃ“N FACTORY METHOD
        System.out.println("2. PATRÃ“N FACTORY METHOD - CreaciÃ³n de Animales");
        System.out.println("-".repeat(50));
        Animal perro = FabricaAnimales.crearAnimal("perro", "Max", 3, "Labrador");
        Animal gato = FabricaAnimales.crearAnimal("gato", "Luna", 2, "Persa");
        Animal ave = FabricaAnimales.crearAnimal("ave", "Paco", 1, "Loro");
        
        System.out.println("âœ“ Perro creado: " + perro.getNombre() + " (" + perro.getRaza() + ")");
        System.out.println("âœ“ Gato creado: " + gato.getNombre() + " (" + gato.getRaza() + ")");
        System.out.println("âœ“ Ave creada: " + ave.getNombre() + " (" + ave.getRaza() + ")");
        System.out.println("âœ“ Cuidados del perro: " + perro.getCuidadosEspeciales());
        System.out.println("âœ“ Enfermedades comunes del gato: " + gato.getEnfermedadesComunes());
        System.out.println("âœ“ Horario de alimentaciÃ³n del ave: " + ave.getHorarioAlimentacion());
        System.out.println();
        
        // 3. PATRÃ“N ABSTRACT FACTORY
        System.out.println("3. PATRÃ“N ABSTRACT FACTORY - Familias de Mascotas");
        System.out.println("-".repeat(50));
        MascotaDomestica mascotaDomestica = FabricaFamilia.crearMascotaDomestica("Buddy", 4, "Golden Retriever", "Ana MartÃ­n");
        MascotaExotica mascotaExotica = FabricaFamilia.crearMascotaExotica("Kiwi", 2, "Guacamayo", "Roberto Silva");
        
        System.out.println("âœ“ Mascota domÃ©stica: " + mascotaDomestica.getNombre());
        System.out.println("  - Cuidados especiales: " + mascotaDomestica.getCuidadosEspeciales());
        System.out.println("âœ“ Mascota exÃ³tica: " + mascotaExotica.getNombre());
        System.out.println("  - Cuidados especiales: " + mascotaExotica.getCuidadosEspeciales());
        System.out.println();
        
        // 4. PATRÃ“N BUILDER
        System.out.println("4. PATRÃ“N BUILDER - ConstrucciÃ³n de Registros");
        System.out.println("-".repeat(50));
        RegistroMascota registro = new ConstructorRegistro()
            .setNombre("Rex")
            .setEdad(5)
            .setRaza("Pastor AlemÃ¡n")
            .setTipoAnimal("perro")
            .setDueÃ±o("Laura Torres")
            .setTelefono("3001234567")
            .setEmail("laura@email.com")
            .setAlergias("Polen", "Ciertos medicamentos")
            .setCondicionesCronicas("Artritis")
            .construir();
        
        System.out.println("âœ“ Registro complejo creado:");
        System.out.println("  - Nombre: " + registro.getNombre());
        System.out.println("  - Edad: " + registro.getEdad() + " aÃ±os");
        System.out.println("  - Raza: " + registro.getRaza());
        System.out.println("  - DueÃ±o: " + registro.getDueÃ±o());
        System.out.println("  - TelÃ©fono: " + registro.getTelefono());
        System.out.println("  - Email: " + registro.getEmail());
        System.out.println("  - Alergias: " + registro.getAlergias());
        System.out.println("  - Condiciones crÃ³nicas: " + registro.getCondicionesCronicas());
        System.out.println();
        
        // 5. PATRÃ“N PROTOTYPE
        System.out.println("5. PATRÃ“N PROTOTYPE - ClonaciÃ³n de Registros");
        System.out.println("-".repeat(50));
        RegistroMascota original = new ConstructorRegistro()
            .setNombre("Mittens")
            .setEdad(3)
            .setRaza("SiamÃ©s")
            .setTipoAnimal("gato")
            .setDueÃ±o("Pedro Ruiz")
            .setTelefono("3009876543")
            .setEmail("pedro@email.com")
            .setAlergias("Ciertos alimentos")
            .construir();
        
        System.out.println("âœ“ Registro original creado: " + original.getNombre());
        
        // Clonar el registro
        RegistroMascota clonado = original.clonar();
        clonado.setNombre("Mittens Jr");
        clonado.setEdad(0);
        
        System.out.println("âœ“ Registro clonado:");
        System.out.println("  - Nombre original: " + original.getNombre());
        System.out.println("  - Nombre clonado: " + clonado.getNombre());
        System.out.println("  - Misma raza: " + (original.getRaza().equals(clonado.getRaza())));
        System.out.println("  - Mismo dueÃ±o: " + (original.getDueÃ±o().equals(clonado.getDueÃ±o())));
        System.out.println("  - Mismas alergias: " + (original.getAlergias().equals(clonado.getAlergias())));
        System.out.println();
        
        System.out.println("========================================");
        System.out.println("  FIN DE LA DEMOSTRACIÃ“N");
        System.out.println("========================================");
        System.out.println();
        System.out.println("âœ“ Todos los patrones de diseÃ±o funcionan correctamente:");
        System.out.println("  - Singleton: Sistema central Ãºnico");
        System.out.println("  - Factory Method: CreaciÃ³n de animales");
        System.out.println("  - Abstract Factory: Familias de mascotas");
        System.out.println("  - Builder: ConstrucciÃ³n de registros complejos");
        System.out.println("  - Prototype: ClonaciÃ³n de registros");
        System.out.println();
        System.out.println("ðŸŽ‰ Â¡Proyecto convertido exitosamente a Java!");
    }
}

// ===== IMPLEMENTACIÃ“N DE PATRONES =====

// 1. SINGLETON
class SistemaVeterinario {
    private static SistemaVeterinario instancia;
    private final String nombreSistema;
    
    private SistemaVeterinario() {
        this.nombreSistema = "Sistema Veterinario Patrones";
    }
    
    public static SistemaVeterinario getInstance() {
        if (instancia == null) {
            instancia = new SistemaVeterinario();
        }
        return instancia;
    }
    
    public String getNombreSistema() {
        return nombreSistema;
    }
}

// 2. FACTORY METHOD
abstract class Animal {
    protected String nombre;
    protected int edad;
    protected String raza;
    
    public Animal(String nombre, int edad, String raza) {
        this.nombre = nombre;
        this.edad = edad;
        this.raza = raza;
    }
    
    public String getNombre() { return nombre; }
    public int getEdad() { return edad; }
    public String getRaza() { return raza; }
    
    public abstract String getCuidadosEspeciales();
    public abstract String getEnfermedadesComunes();
    public abstract String getHorarioAlimentacion();
}

class Perro extends Animal {
    public Perro(String nombre, int edad, String raza) {
        super(nombre, edad, raza);
    }
    
    @Override
    public String getCuidadosEspeciales() {
        return "Ejercicio diario, cepillado regular";
    }
    
    @Override
    public String getEnfermedadesComunes() {
        return "Displasia de cadera, problemas cardÃ­acos";
    }
    
    @Override
    public String getHorarioAlimentacion() {
        return "2 veces al dÃ­a";
    }
}

class Gato extends Animal {
    public Gato(String nombre, int edad, String raza) {
        super(nombre, edad, raza);
    }
    
    @Override
    public String getCuidadosEspeciales() {
        return "Cepillado, limpieza de arenero";
    }
    
    @Override
    public String getEnfermedadesComunes() {
        return "Problemas renales, diabetes";
    }
    
    @Override
    public String getHorarioAlimentacion() {
        return "3 veces al dÃ­a";
    }
}

class Ave extends Animal {
    public Ave(String nombre, int edad, String raza) {
        super(nombre, edad, raza);
    }
    
    @Override
    public String getCuidadosEspeciales() {
        return "Jaula espaciosa, estimulaciÃ³n mental";
    }
    
    @Override
    public String getEnfermedadesComunes() {
        return "Problemas respiratorios, plumas";
    }
    
    @Override
    public String getHorarioAlimentacion() {
        return "Semillas frescas diarias";
    }
}

class FabricaAnimales {
    public static Animal crearAnimal(String tipo, String nombre, int edad, String raza) {
        switch (tipo.toLowerCase()) {
            case "perro":
                return new Perro(nombre, edad, raza);
            case "gato":
                return new Gato(nombre, edad, raza);
            case "ave":
                return new Ave(nombre, edad, raza);
            default:
                throw new IllegalArgumentException("Tipo de animal no soportado: " + tipo);
        }
    }
}

// 3. ABSTRACT FACTORY
abstract class Mascota {
    protected String nombre;
    protected int edad;
    protected String raza;
    protected String dueÃ±o;
    
    public Mascota(String nombre, int edad, String raza, String dueÃ±o) {
        this.nombre = nombre;
        this.edad = edad;
        this.raza = raza;
        this.dueÃ±o = dueÃ±o;
    }
    
    public String getNombre() { return nombre; }
    public int getEdad() { return edad; }
    public String getRaza() { return raza; }
    public String getDueÃ±o() { return dueÃ±o; }
    
    public abstract String getCuidadosEspeciales();
}

class MascotaDomestica extends Mascota {
    public MascotaDomestica(String nombre, int edad, String raza, String dueÃ±o) {
        super(nombre, edad, raza, dueÃ±o);
    }
    
    @Override
    public String getCuidadosEspeciales() {
        return "Cuidados estÃ¡ndar, ambiente familiar, fÃ¡cil manejo";
    }
}

class MascotaExotica extends Mascota {
    public MascotaExotica(String nombre, int edad, String raza, String dueÃ±o) {
        super(nombre, edad, raza, dueÃ±o);
    }
    
    @Override
    public String getCuidadosEspeciales() {
        return "Cuidados especializados, ambiente controlado, permisos especiales";
    }
}

class FabricaFamilia {
    public static MascotaDomestica crearMascotaDomestica(String nombre, int edad, String raza, String dueÃ±o) {
        return new MascotaDomestica(nombre, edad, raza, dueÃ±o);
    }
    
    public static MascotaExotica crearMascotaExotica(String nombre, int edad, String raza, String dueÃ±o) {
        return new MascotaExotica(nombre, edad, raza, dueÃ±o);
    }
}

// 4. BUILDER
class RegistroMascota {
    private String nombre;
    private int edad;
    private String raza;
    private String tipoAnimal;
    private String dueÃ±o;
    private String telefono;
    private String email;
    private String alergias;
    private String condicionesCronicas;
    
    // Constructor pÃºblico para usar con Builder
    public RegistroMascota() {}
    
    // Getters
    public String getNombre() { return nombre; }
    public int getEdad() { return edad; }
    public String getRaza() { return raza; }
    public String getTipoAnimal() { return tipoAnimal; }
    public String getDueÃ±o() { return dueÃ±o; }
    public String getTelefono() { return telefono; }
    public String getEmail() { return email; }
    public String getAlergias() { return alergias; }
    public String getCondicionesCronicas() { return condicionesCronicas; }
    
    // Setters para Builder
    public void setNombre(String nombre) { this.nombre = nombre; }
    public void setEdad(int edad) { this.edad = edad; }
    public void setRaza(String raza) { this.raza = raza; }
    public void setTipoAnimal(String tipoAnimal) { this.tipoAnimal = tipoAnimal; }
    public void setDueÃ±o(String dueÃ±o) { this.dueÃ±o = dueÃ±o; }
    public void setTelefono(String telefono) { this.telefono = telefono; }
    public void setEmail(String email) { this.email = email; }
    public void setAlergias(String alergias) { this.alergias = alergias; }
    public void setCondicionesCronicas(String condicionesCronicas) { this.condicionesCronicas = condicionesCronicas; }
    
    // MÃ©todo para clonaciÃ³n (Prototype)
    public RegistroMascota clonar() {
        RegistroMascota clon = new RegistroMascota();
        clon.nombre = this.nombre;
        clon.edad = this.edad;
        clon.raza = this.raza;
        clon.tipoAnimal = this.tipoAnimal;
        clon.dueÃ±o = this.dueÃ±o;
        clon.telefono = this.telefono;
        clon.email = this.email;
        clon.alergias = this.alergias;
        clon.condicionesCronicas = this.condicionesCronicas;
        return clon;
    }
}

class ConstructorRegistro {
    private final RegistroMascota registro;
    
    public ConstructorRegistro() {
        this.registro = new RegistroMascota();
    }
    
    public ConstructorRegistro setNombre(String nombre) {
        registro.setNombre(nombre);
        return this;
    }
    
    public ConstructorRegistro setEdad(int edad) {
        registro.setEdad(edad);
        return this;
    }
    
    public ConstructorRegistro setRaza(String raza) {
        registro.setRaza(raza);
        return this;
    }
    
    public ConstructorRegistro setTipoAnimal(String tipoAnimal) {
        registro.setTipoAnimal(tipoAnimal);
        return this;
    }
    
    public ConstructorRegistro setDueÃ±o(String dueÃ±o) {
        registro.setDueÃ±o(dueÃ±o);
        return this;
    }
    
    public ConstructorRegistro setTelefono(String telefono) {
        registro.setTelefono(telefono);
        return this;
    }
    
    public ConstructorRegistro setEmail(String email) {
        registro.setEmail(email);
        return this;
    }
    
    public ConstructorRegistro setAlergias(String... alergias) {
        registro.setAlergias(String.join(", ", alergias));
        return this;
    }
    
    public ConstructorRegistro setCondicionesCronicas(String... condiciones) {
        registro.setCondicionesCronicas(String.join(", ", condiciones));
        return this;
    }
    
    public RegistroMascota construir() {
        return registro;
    }
}

